/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Gestion taille titre du site
/* 
const siteTitle = document.querySelector('.site-ttl');
const siteTitleLink = document.querySelector('.site-ttl a');
console.log(siteTitleLink.getBoundingClientRect().width)
const siteTitleWidth = siteTitle.getBoundingClientRect().width;
console.log(siteTitleWidth)
const siteTitleContent = siteTitle.innerText;

let fontSize = 10;
while(siteTitleLink.getBoundingClientRect().width < siteTitleWidth && fontSize < 200) {
  siteTitleLink.style.fontSize = fontSize + "px";
  fontSize += 1;
  console.log(fontSize)
}
 */


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Gestion du Hamburger

document.querySelector('#brg').addEventListener('click', function() {
  document.querySelector('#nvgt-cntnr').classList.toggle('active');
  this.classList.toggle('active');
})
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// Gestion d'une team-card

document.querySelectorAll('.team-card').forEach( element => {
    element.addEventListener('click', function() {
      this.classList.toggle('active');
      const description = this.querySelector('.description-container');
      const background = this.querySelector('.background');
      description.classList.toggle('active');
      if(description.style.maxHeight) {
        description.style.maxHeight = null;
        description.style.opacity = null;
        background.style.maxHeight = '80%'
      } else {
        console.log('else');
        description.style.maxHeight = description.scrollHeight + 'px';
        description.style.opacity = 1;
        background.style.maxHeight = '100%'
      }
    })
})

//////////////////////////////////////////////////////////
// SHOW ON SCROLL

const elementsToShow = document.querySelectorAll('.show-on-scroll');
/* const tempEl = elementsToShow[2];
console.log(tempEl);

console.log(window.innerHeight); */
window.addEventListener('scroll', function() {
  elementsToShow.forEach(element => {
    if( isElementInViewport(element) ) {
      element.classList.add('is-in-viewport');
    } else if ( !isElementInViewport(element) ) {
      element.classList.remove('is-in-viewport');
    }
  })
});

elementsToShow.forEach(element => {
  if( isElementInViewport(element) ) {
    element.classList.add('is-in-viewport');
  } else if ( !isElementInViewport(element) ) {
    element.classList.remove('is-in-viewport');
  }
})

function isElementInViewport(element) {
  const rect = element.getBoundingClientRect();
  if((rect.top < window.innerHeight && rect.bottom > 0) || (rect.bottom > 0 && rect.top < window.innerHeight)) {
    return true;
  } else {
    return false;
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
